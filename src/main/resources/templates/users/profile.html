<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml"
      th:replace="~{fragments/layout :: layout(~{::title}, ~{::content})}">
<head>
    <title>User Profile</title>
    <style>
        html, body {
            height: 100%;
        }
        body {
            display: flex;
            flex-direction: column;
        }

        .profile-card {
            width: 100%;
            max-width: 800px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.08);
        }
        .profile-header {
            background-color: #0d6efd;
            color: white;
            padding: 1rem 1.5rem;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .profile-info dt {
            font-weight: 600;
        }
        .profile-info dd {
            margin-bottom: 1rem;
        }
        @media (max-width: 576px) {
            .profile-header h3 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
<div th:fragment="content" class="w-100">
    <div class="w-100 h-100 d-flex align-items-center justify-content-center py-4">
        <div class="card profile-card">
            <div class="profile-header d-flex justify-content-between align-items-center">
                <h3 class="mb-0">User Profile</h3>
                <a th:href="@{/dashboard/users/{id}/edit(id=${user.id})}" class="btn btn-sm btn-light"
                   sec:authorize="hasRole('ADMIN')">
                    <i class="bi bi-pencil"></i> Edit
                </a>
            </div>
            <div class="card-body" th:if="${user != null}">
                <dl class="row profile-info">
                    <dt class="col-sm-4">Username:</dt>
                    <dd class="col-sm-8" th:text="${user.username} ?: 'Not available'"></dd>

                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8" th:text="${user.email} ?: 'Not available'"></dd>

                    <dt class="col-sm-4">Role:</dt>
                    <dd class="col-sm-8" th:text="${user.role} ?: 'Not available'"></dd>

                    <dt class="col-sm-4">Joined At:</dt>
                    <dd class="col-sm-8" th:text="${user.createdAt} ?: 'Not available'"></dd>

                    <dt class="col-sm-4">Last Updated:</dt>
                    <dd class="col-sm-8" th:text="${user.updatedAt} ?: 'Not available'"></dd>
                </dl>
                <div class="text-end">
                    <a th:href="@{/dashboard}" class="btn btn-secondary">Back to Dashboard</a>
                </div>
            </div>
            <div class="card-body" th:unless="${user != null}">
                <div class="alert alert-danger">User information not available</div>
                <div class="text-end">
                    <a th:href="@{/dashboard}" class="btn btn-secondary">Back to Dashboard</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
